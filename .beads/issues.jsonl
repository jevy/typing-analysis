{"id":"typing-analysis-3ix","title":"Add fatigue detection to analysis","description":"Track error rate trend within typing sessions. Alert if error rate spikes after sustained typing - signal to take a break.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-24T09:59:44.507045713-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.151516142-05:00","closed_at":"2026-01-24T10:17:30.151516142-05:00","close_reason":"Implemented in this session","comments":[{"id":5,"issue_id":"typing-analysis-3ix","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- analyze.py: Add fatigue_analysis() - track error rate trend within sessions\n- report.py: Add 'Fatigue Detection' section with alerts\n\n**No logger changes needed** - uses existing session detection (5 min gap).\n\n**Analysis approach:**\n- Split each session into 10-minute windows\n- Calculate error rate per window\n- Detect upward trend (simple delta comparison)\n- Flag sessions where error rate increased \u003e 50% from start to end\n\n**Report output example:**\nFATIGUE DETECTION\n  Session 1 (45 min): Error rate 4% -\u003e 9% (+125%) Warning: Fatigue detected\n  Session 2 (20 min): Error rate 5% -\u003e 6% (+20%) Stable\n\n**Testing:**\n- test_analyze.py: Test with synthetic session data showing increasing/stable errors","created_at":"2026-01-24T15:10:18Z"}]}
{"id":"typing-analysis-4gj","title":"Typing Analysis Tool","description":"Build keystroke capture and analysis system for Linux Wayland to improve typing skills. Captures at kernel level using python-evdev, runs as systemd service, analyzes patterns for slow keys and error rates.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-24T06:40:16.958610473-05:00","created_by":"jevin","updated_at":"2026-01-24T07:02:52.163925364-05:00","closed_at":"2026-01-24T07:02:52.163925364-05:00","close_reason":"Closed"}
{"id":"typing-analysis-4gj.10","title":"Create analyzer (analyze.py)","description":"Calculate metrics: key frequency, digraph timing, slow transitions, error rate (backspace frequency), error context, typing speed (WPM).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:14.274279893-05:00","created_by":"jevin","updated_at":"2026-01-24T06:55:11.309837562-05:00","closed_at":"2026-01-24T06:55:11.309837562-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.10","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:14.276602238-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.11","title":"Create CLI report generator (report.py)","description":"CLI output showing: top 10 slowest key transitions, keys most often followed by backspace, overall stats (WPM, error rate, session length).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:19.600403115-05:00","created_by":"jevin","updated_at":"2026-01-24T06:56:11.211716552-05:00","closed_at":"2026-01-24T06:56:11.211716552-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.11","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:19.606894275-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.12","title":"Create Nix package","description":"Create ~/.config/nixpkgs/pkgs/typing-analysis/default.nix with python3Packages.buildPythonApplication. Include evdev dependency. Creates typing-logger and typing-analyze commands.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:25.000837062-05:00","created_by":"jevin","updated_at":"2026-01-24T07:00:51.627370404-05:00","closed_at":"2026-01-24T07:00:51.627370404-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.12","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:25.003606246-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.13","title":"Create systemd user service","description":"Create typing-logger.service that runs after graphical-session.target. Uses ExecStart=%h/.nix-profile/bin/typing-logger. Auto-restart on failure.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:30.42061628-05:00","created_by":"jevin","updated_at":"2026-01-24T07:01:32.002653181-05:00","closed_at":"2026-01-24T07:01:32.002653181-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.13","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:30.422808145-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.14","title":"Document NixOS configuration changes","description":"Document adding user to input group and adding package to environment.systemPackages in configuration.nix.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:35.84744688-05:00","created_by":"jevin","updated_at":"2026-01-24T07:02:52.159242433-05:00","closed_at":"2026-01-24T07:02:52.159242433-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.14","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:35.850173743-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.8","title":"Setup devenv.nix for development","description":"Add Python, evdev, and evtest packages. Enable Python language with venv.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:03.58975692-05:00","created_by":"jevin","updated_at":"2026-01-24T06:51:02.871578163-05:00","closed_at":"2026-01-24T06:51:02.871578163-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.8","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:03.593732691-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-4gj.9","title":"Create keystroke logger (logger.py)","description":"Use python-evdev to read from keyboard device. Record key code, name, event type (press/release), timestamp. Store as JSONL. Auto-detect keyboard from /dev/input/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T06:42:08.959531769-05:00","created_by":"jevin","updated_at":"2026-01-24T06:53:11.134394146-05:00","closed_at":"2026-01-24T06:53:11.134394146-05:00","close_reason":"Closed","dependencies":[{"issue_id":"typing-analysis-4gj.9","depends_on_id":"typing-analysis-4gj","type":"parent-child","created_at":"2026-01-24T06:42:08.963383952-05:00","created_by":"jevin"}]}
{"id":"typing-analysis-852","title":"Track key hold duration","description":"Track time between press and release events to detect accidental homerow mod holds (e.g., held 201ms instead of tapping). Useful for tuning tap-time thresholds.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T09:59:22.953444779-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.141288657-05:00","closed_at":"2026-01-24T10:17:30.141288657-05:00","close_reason":"Implemented in this session","comments":[{"id":1,"issue_id":"typing-analysis-852","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- logger.py: Track press timestamps per key, calculate hold duration on release\n- analyze.py: Add hold_durations analysis - min/max/avg per key, flag long holds\n- report.py: Add 'Long Key Holds' section showing keys held \u003e threshold (e.g., 200ms)\n\n**Data format change:**\nAdd hold_duration_ms field to release events:\n{\"timestamp\": ..., \"key\": \"KEY_A\", \"event\": \"release\", \"hold_duration_ms\": 185}\n\n**Testing:**\n- test_analyze.py: Test hold duration stats calculation\n- Add test_logger.py: Mock evdev events to verify duration tracking\n\n**Homerow mod relevance:**\nUser has kanata with tap-time=200ms. Holds \u003e= 200ms trigger modifier. This feature helps identify accidental modifier activations.","created_at":"2026-01-24T15:09:26Z"}]}
{"id":"typing-analysis-86u","title":"Add rolling averages to report","description":"Compare today vs last 7 days vs last 30 days. Show improvement trends over time. Motivational and helps track progress.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-24T09:59:55.39772279-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.156871378-05:00","closed_at":"2026-01-24T10:17:30.156871378-05:00","close_reason":"Implemented in this session","comments":[{"id":7,"issue_id":"typing-analysis-86u","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- analyze.py: Add rolling_stats() - calculate stats for today/7d/30d periods\n- report.py: Add 'Progress Over Time' section with comparisons\n\n**No logger changes needed** - uses existing timestamped data.\n\n**Analysis approach:**\n- Filter keystrokes by date range\n- Calculate core metrics (WPM, error rate) for each period\n- Compute delta/percentage change between periods\n\n**Report output example:**\nPROGRESS OVER TIME\n                Today    7-Day Avg    30-Day Avg\n  WPM:          42.5     40.2         38.1        +11.5% improvement\n  Error Rate:   6.2%     7.1%         8.5%        -27% fewer errors\n\n**Dependencies:**\n- Requires enough historical data to be meaningful\n- Should gracefully handle \u003c7 days or \u003c30 days of data\n\n**Testing:**\n- test_analyze.py: Test with multi-day sample data","created_at":"2026-01-24T15:10:29Z"}]}
{"id":"typing-analysis-8xn","title":"Track idle time before keystroke","description":"Record how long user paused before each keystroke. Helps distinguish thinking pauses from slow finger transitions.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-24T09:59:33.659611321-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.145922751-05:00","closed_at":"2026-01-24T10:17:30.145922751-05:00","close_reason":"Implemented in this session","comments":[{"id":3,"issue_id":"typing-analysis-8xn","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- logger.py: Track timestamp of last keystroke, calculate idle time before each press\n- analyze.py: Analyze idle time distribution\n\n**Data format change:**\nAdd idle_before_ms to press events:\n{\"timestamp\": ..., \"key\": \"KEY_A\", \"event\": \"press\", \"idle_before_ms\": 2500}\n\n**Analysis insight:**\n- Short idle (\u003c100ms): Normal typing flow\n- Medium idle (100-500ms): Word boundary or thinking\n- Long idle (\u003e500ms): Pause, distraction, or context switch\n\n**Testing:**\n- test_analyze.py: Test idle time bucketing and stats","created_at":"2026-01-24T15:09:37Z"}]}
{"id":"typing-analysis-8y5","title":"Track active window/application context","description":"Log what application user is typing in (terminal, browser, editor). Different apps have different typing patterns. Use xdotool or hyprctl activewindow for Wayland.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-24T09:59:28.320722505-05:00","created_by":"jevin","updated_at":"2026-01-24T09:59:28.320722505-05:00","comments":[{"id":2,"issue_id":"typing-analysis-8y5","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- logger.py: Add window detection, include window and app fields in output\n- analyze.py: Group stats by application (WPM per app, errors per app)\n- report.py: Add 'Per-Application Stats' section\n- package.nix: May need to add runtime dependency (hyprctl is in hyprland)\n\n**Window detection approach:**\n1. Wayland (Hyprland): hyprctl activewindow -j returns JSON with class/title\n2. Wayland (Sway): swaymsg -t get_tree and find focused\n3. X11 fallback: xdotool getactivewindow getwindowname\n\n**Data format change:**\n{\"timestamp\": ..., \"key\": \"KEY_A\", \"event\": \"press\", \"window\": \"Alacritty\", \"app_class\": \"Alacritty\"}\n\n**Testing:**\n- Mock subprocess calls to window managers\n- Test grouping logic in analyze.py\n\n**Note:** Window polling adds overhead. Consider caching for 1 second between polls.","created_at":"2026-01-24T15:09:31Z"}]}
{"id":"typing-analysis-j3j","title":"Add time-of-day breakdown to analysis","description":"Analyze typing patterns by time of day. Show if user is more accurate in morning vs afternoon. Could reveal fatigue patterns.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-24T09:59:39.058404664-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.148759573-05:00","closed_at":"2026-01-24T10:17:30.148759573-05:00","close_reason":"Implemented in this session","comments":[{"id":4,"issue_id":"typing-analysis-j3j","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- analyze.py: Add time_of_day_stats() function, bucket keystrokes by hour\n- report.py: Add 'Time of Day Analysis' section\n\n**No logger changes needed** - datetime already captured.\n\n**Analysis approach:**\n- Bucket hours into periods: morning (6-12), afternoon (12-18), evening (18-24), night (0-6)\n- Calculate WPM and error rate per period\n- Identify best/worst performing times\n\n**Report output example:**\nTIME OF DAY ANALYSIS\n  Morning (6am-12pm):   WPM 45.2, Errors 5.1%\n  Afternoon (12pm-6pm): WPM 38.7, Errors 8.3%  \u003c- Consider breaks\n\n**Testing:**\n- test_analyze.py: Test time bucketing with sample data across hours","created_at":"2026-01-24T15:09:42Z"}]}
{"id":"typing-analysis-leq","title":"Detect common typo patterns","description":"Identify specific typo sequences like 'teh' -\u003e backspace -\u003e 'the'. More actionable than just 'you hit backspace after E'. Track letter swaps and common mistakes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T09:59:49.96622315-05:00","created_by":"jevin","updated_at":"2026-01-24T10:17:30.154326446-05:00","closed_at":"2026-01-24T10:17:30.154326446-05:00","close_reason":"Implemented in this session","comments":[{"id":6,"issue_id":"typing-analysis-leq","author":"jevin","text":"## Implementation\n\n**Files to modify:**\n- analyze.py: Add typo_patterns() - detect character sequences before backspace\n- report.py: Add 'Common Typos' section\n\n**No logger changes needed** - uses existing keystroke data.\n\n**Detection algorithm:**\n1. Find all backspace sequences\n2. Look back at 2-5 characters typed before backspaces\n3. Look forward at characters typed after backspaces\n4. Match patterns: if 'teh' followed by backspaces then 'the', record as teh-\u003ethe typo\n5. Aggregate and count frequency\n\n**Challenges:**\n- Need to handle KEY_* codes to actual characters (shift+key = uppercase)\n- Ignore non-character keys in pattern\n- Handle multiple backspaces (full word delete vs single char fix)\n\n**Report output example:**\nCOMMON TYPOS\n  teh -\u003e the         12 times\n  adn -\u003e and          8 times\n\n**Testing:**\n- test_analyze.py: Test pattern detection with known typo sequences","created_at":"2026-01-24T15:10:24Z"}]}
